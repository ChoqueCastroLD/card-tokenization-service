# Card Tokenization Service

## Description

This is a backend application that provides an API for tokenizing credit cards.

## Getting Started

### Prerequisites

- [Bun v1.0.11](https://bun.sh/)

### Installation

1. Clone the repository

```sh
git clone
```

2. Install dependencies (Not required if using docker-compose)

```sh
bun install
```

3. Build containers using docker-compose

```sh
docker-compose build
```

### Usage

Start the application (Using docker-compose)

```sh
docker-compose up card-tokenization-service redis
```

Start the application (Using bun)

```sh
bun start
```

### Testing

Run all tests

```sh
bun test
```

Run unit tests

```sh
bun test:unit
```

Run integration tests

```sh
bun test:integration
```

Run all tests with docker-compose

```sh
docker-compose run --rm test-runner
```

## Documentation

The project uses [Swagger OAS 3.0](https://swagger.io/) for documentation.

### Swagger

While the application is running, the Swagger UI is available at http://localhost:3000/swagger

### Postman

The project also includes a Postman collection that can be used to test the API.
https://www.postman.com/shokocc/workspace/card-tokenization/collection/15040281-cffc4cde-0980-44bd-b86e-7f97bda1cf85?action=share&creator=15040281&active-environment=15040281-c3c0f588-bb13-4dcf-9c2d-02f766cdb601

## Folder Structure

The project uses the following folder structure:

```
├── src
|  ├── controllers
|  ├── plugins
|  ├── routes
|  ├── services
|  ├── types
|  └── utils
└── tests
   ├── integration
   └── unit
```

## Service-Route-Controller (SRC) Architecture

### Description

The **Service-Route-Controller (SRC) Architecture** is an architectural pattern used for structuring backend applications. It provides a clear separation of responsibilities, making it easier to organize and maintain code. The architecture consists of three main components:

- **Service**: Responsible for handling business logic and interactions with databases or other data sources.
- **Route**: Defines API routes and endpoints to direct incoming HTTP requests to the appropriate controllers.
- **Controller**: Manages application logic and handles HTTP requests.

### Derived From

The SRC Architecture draws inspiration from the **Model-View-Controller (MVC)** pattern, adapting it to the context of backend development. While not a strict implementation of MVC, it embraces the principles of separation of concerns and modularity, facilitating the development of scalable and maintainable backend applications.

## Q&A


#### Why is the project using Elysia?

Elysia is a backend framework that is built on top of the bun runtime. It provides a set of tools and conventions that make it easier to build backend applications.

#### Why is the project using the bun runtime?

Bun is designed as a drop-in replacement for Node.js

The bun runtime is a lightweight runtime that is optimized for building backend applications. It is also the recommended runtime for [Elysia](https://elysia.gitbook.io/docs/).

As stated in the [bun documentation](https://bunjs.dev/docs/introduction/what-is-bun),
Bun is a new JavaScript runtime built from scratch to serve the modern JavaScript ecosystem.

We also benefit from the performance boost that comes with using the bun runtime. (Read [Benchmark Node.js vs Deno vs Bun using Redis](https://medium.com/deno-the-complete-reference/node-js-vs-deno-vs-bun-who-works-fastest-with-redis-cache-485263e3d9cc))

#### Why is the folder structure different from the one generated by the bun create command?

The bun create command generates a folder structure that is optimized for small projects. The folder structure described in this template is more suitable for medium to large projects.

#### Why does the project use the SRC Architecture?

The SRC Architecture is a proven architectural pattern that is used by many popular backend frameworks, such as [NestJS](https://nestjs.com/), [AdonisJS](https://adonisjs.com/), and [FeathersJS](https://feathersjs.com/). It is also the recommended architecture for [Elysia](https://elysia.gitbook.io/docs/).


This project was created using `bun init` in bun v1.0.11. [Bun](https://bun.sh) is a fast all-in-one JavaScript runtime.
